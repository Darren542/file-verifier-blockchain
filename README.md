# Blockchain File Verifier

This project is a blockchain-based system for **file integrity** and **version control**. It uses a smart contract to store file hashes and version history on a **local Ethereum blockchain** (via Hardhat), and provides **Python scripts** to:

- âœ… Scan local files for verification
- ğŸ“¤ Upload new file versions
- ğŸ” Support multiple users with password-based login

## ğŸ“¦ Project Structure
```plaintext
file-verifier-blockchain/
â”œâ”€â”€ contracts/ # Solidity smart contracts
â”‚ â””â”€â”€ FileRegistry.sol
â”œâ”€â”€ test/ # Contract tests
â”‚ â””â”€â”€ FileRegistry.js
â”œâ”€â”€ scripts/
â”‚ â””â”€â”€ deploy.js # Contract deployment script
â”œâ”€â”€ scanner/ # Python client tools
â”‚ â”œâ”€â”€ main.py # Console interface
â”‚ â”œâ”€â”€ scanner.py # File scan logic
â”‚ â”œâ”€â”€ upload_file.py # Upload logic
â”‚ â”œâ”€â”€ FileRegistry_abi.json
| â”œâ”€â”€ user_config.json # generated by upload_file.py
â”‚ â”œâ”€â”€ accounts.txt # paste hrdhat accounts here
â”‚ â”œâ”€â”€ requirements.txt # Python dependencies
| â”œâ”€â”€ .env # environment variables
â”‚ â””â”€â”€ gen_users.py # generate user_config.json
â”œâ”€â”€ artifacts/ # Auto-generated by Hardhat
â”œâ”€â”€ hardhat.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ README.md
```

---

## ğŸš€ Prerequisites

- [Node.js v20](https://nodejs.org/) (recommended)
- [Python 3.10+](https://www.python.org/)
- [Hardhat](https://hardhat.org/) for local Ethereum development
- `pip`, `venv`, etc.

---

## âš™ï¸ 1. How The Hardhat Project  Initialy Created

```bash
npm init -y
npm install --save-dev hardhat
npx hardhat  # choose "Create a JavaScript project"
npm install --save-dev @nomicfoundation/hardhat-toolbox
```

---

## ğŸ§ª 2. Test the Contract

Write tests in test/FileRegistry.js, then run:
```bash
npx hardhat test
```

---

## ğŸ§± 3. Deploy Locally

Start the local blockchain:
```bash
npx hardhat compile
npx hardhat node
```

In another terminal, deploy the contract:
```bash
npx hardhat run scripts/deploy.js --network localhost
```

Copy the deployed contract address from the output into the scanner/.env file.

---

## ğŸ 4. Set Up Python Scripts

Navigate to the scanner/ folder:

```bash
cd scanner
python -m venv venv
venv\Scripts\activate  # On Windows
# or source venv/bin/activate on macOS/Linux

pip install -r requirements.txt
```

---

## ğŸ” 5. Configure Users & Contract Info

### A. Paste Hardhat Accounts
Copy and paste the entire output from **npx hardhat node** into: **scanner/accounts.txt**.

### B. Set Environment Variables
Create a **.env** file in the **scanner/** directory with the following content:

```ini
CONTRACT_ADDRESS=0xYourDeployedContractAddress
RPC_URL=http://127.0.0.1:8545
```

---

## âš™ï¸ 6. First-Time User Setup

When you run the app, if user_config.json doesnâ€™t exist:

- It will auto-generate it from accounts.txt
- Assign default users like alice, bob, charlie with password password123

---

## ğŸ§ª 7. Run the Python Console App

```bash
cd scanner
python main.py
```
Choose:
- `1` Scan a directory
- `2` Upload a file
- `3` Exit